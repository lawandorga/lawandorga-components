import{d as y,r as s,o as c,c as _,w as n,a,e as t,K as i,t as l,i as v,b,f as w}from"./app.2d6b4786.js";import{Y as C,Q as k,G as $,_ as B,q as D}from"./headlessui.esm.7047c5aa.js";import V from"./ButtonNormal.eca46e5d.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";import{r as j}from"./XIcon.7d7ce08d.js";import"./CircleLoader.ce404ea8.js";const q=y({components:{ButtonBlue:V,TransitionRoot:C,TransitionChild:k,Dialog:$,DialogOverlay:B,DialogTitle:D,XIcon:j},props:{title:{type:String,required:!1,default:"Delete"},object:{type:Object,required:!1,default:()=>null},modelValue:{type:Boolean,required:!1,default:!1},request:{type:Function,required:!1,default:null},verb:{type:String,default:"delete"}},emits:["update:modelValue","deleted","error"],data:function(){return{loading:!1,error:null}},watch:{modelValue(e){e&&(this.error=null)}},methods:{deleteClicked(){this.loading=!0,this.error=null,this.request(this.object).then(()=>this.$emit("deleted",this.object)).finally(()=>this.loading=!1).catch(e=>this.handleError(e.response?e.response.data:{}))},handleError(e){e.detail&&(this.error=e.detail),this.loading=!1,this.$emit("error",e)}}}),x={class:"fixed inset-0 z-10 overflow-y-auto"},N={class:"min-h-screen px-4 text-center"},O=t("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),S={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-md"},E={class:"block absolute top-0 right-0 pt-3 pr-3"},I=t("span",{class:"sr-only"},"Close",-1),R={class:"mt-2"},X={class:"text-sm text-gray-500 break-words"},Y={key:0,class:"mt-2 text-sm text-red-600 whitespace-pre-line"},G={class:"mt-4 flex space-x-3 justify-end"},Q=i(" Cancel ");function z(e,o,A,F,K,M){const p=s("DialogOverlay"),d=s("TransitionChild"),m=s("XIcon"),f=s("DialogTitle"),u=s("ButtonBlue"),h=s("Dialog"),g=s("TransitionRoot");return c(),_(g,{appear:"",show:e.modelValue,as:"div"},{default:n(()=>[a(h,{as:"div",onClose:o[3]||(o[3]=r=>e.$emit("update:modelValue",!1))},{default:n(()=>[t("div",x,[t("div",N,[a(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[a(p,{class:"fixed inset-0 bg-gray-800 bg-opacity-40"})]),_:1}),O,a(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t("div",S,[t("div",E,[t("button",{type:"button",class:"bg-white p-0.5 border-2 border-transparent rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 hover:border-gray-100 focus:outline-none focus:ring-0",onClick:o[0]||(o[0]=r=>e.$emit("update:modelValue",!1))},[I,a(m,{class:"h-6 w-6","aria-hidden":"true"})])]),a(f,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[i(l(e.title),1)]),_:1}),t("div",R,[t("p",X,[v(e.$slots,"default",{},()=>[i(" Are you sure you want to "+l(e.verb)+" "+l(e.object?e.object.name:"this object")+"? ",1)])]),e.error?(c(),b("p",Y,l(e.error),1)):w("",!0)]),t("div",G,[a(u,{kind:"secondary",type:"button",onClick:o[1]||(o[1]=r=>e.$emit("update:modelValue",!1))},{default:n(()=>[Q]),_:1}),a(u,{type:"button",loading:e.loading,onClick:o[2]||(o[2]=r=>e.deleteClicked())},{default:n(()=>[i(" Yes, "+l(e.verb),1)]),_:1},8,["loading"])])])]),_:3})])])]),_:3})]),_:3},8,["show"])}var Z=T(q,[["render",z]]);export{Z as default};
