import m from"./FormLabel.0e93f219.js";import f from"./FormHelptext.ffa3748c.js";import{d as h,r as u,o as a,b as n,a as d,e as o,h as g,M as b,N as y,F as v,g as S,I as w,n as k,t as V}from"./app.2d6b4786.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const _=h({components:{FormHelptext:f,FormLabel:m},props:{label:{required:!0,type:String},helptext:{required:!1,default:"",type:String},modelValue:{required:!1,default:()=>[],type:Array},name:{required:!1,type:String,default:""},options:{required:!0,type:Array},required:{required:!1,default:!1,type:Boolean}},emits:["update:modelValue"],data(){return{open:!1,clickListener:null,search:""}},computed:{modelValueStringArray(){return this.modelValue.map(e=>e.toString())},optionsSorted(){return[...this.optionsFiltered].sort((e,r)=>{const l=this.checkOptionSelected(e),s=this.checkOptionSelected(r);return l===s?0:l?-1:1})},optionsFiltered(){return this.search===""?this.options:[...this.options].filter(e=>{let r="";return typeof e=="string"?r=e.toLowerCase():e.name&&(r=e.name.toLowerCase()),r.includes(this.search.toLowerCase())})}},methods:{checkOptionSelected(e){return typeof e=="object"&&"value"in e?this.modelValueStringArray.includes(e.value):typeof e=="object"&&"id"in e?this.modelValueStringArray.includes(e.id.toString()):typeof e=="string"?this.modelValueStringArray.includes(e):!1},update(e){let r="";if(typeof e=="string"?r=e:r=e.id.toString(),r==="")return;let l=[...this.modelValue];const s=this.modelValueStringArray.indexOf(r);s===-1?l.push(r):l.splice(s,1),this.$emit("update:modelValue",l)}}}),q=["for"],C={class:"mt-2"},L={class:"shadow-sm rounded-md w-full"},x=["id","name","value"],A=["value","selected","onClick"];function $(e,r,l,s,O,M){const c=u("FormLabel"),p=u("FormHelptext");return a(),n("label",{for:e.name,class:"block relative"},[d(c,{required:e.required,label:e.label},null,8,["required","label"]),o("div",C,[g(o("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.search=t),placeholder:"Search",type:"search",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-t-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:z-10 focus:relative focus-within:ring-1 focus-within:ring-lorgablue focus-within:border-lorgablue focus:ring-lorgablue focus:border-lorgablue sm:text-sm"},null,512),[[b,e.search]]),o("div",L,[o("select",{id:`form--${e.name}`,multiple:"",name:e.name,value:e.modelValue,class:"cursor-pointer focus:ring-1 appearance-none block w-full p-0 border border-gray-300 rounded-bl-md overflow-x-hidden focus:outline-none focus:border-lorgablue focus:ring-lorgablue sm:text-sm",onKeydown:r[1]||(r[1]=y(w(t=>e.update(t.target.value),["stop","prevent"]),["space","left","right"]))},[(a(!0),n(v,null,S(e.optionsSorted,t=>{var i;return a(),n("option",{key:t.name,class:k(["px-3 py-2 focus:text-red-500 focus:bg-red-500",{"bg-lorgablue text-blue-50":e.checkOptionSelected(t)}]),value:t.id,selected:e.checkOptionSelected(t),onClick:B=>e.update(t)},V((i=t.name)!=null?i:t),11,A)}),128))],40,x)])]),d(p,{"form-helptext":e.helptext},null,8,["form-helptext"])],8,q)}var D=F(_,[["render",$]]);export{D as default};
